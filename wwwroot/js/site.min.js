function CopyToModal(n,t){$("#qty").val("0");$("#productPrice").text(t.CostPrice.toFixed(2));$("#productName").text(t.ProductName);$("#productDescription").text(t.Description);$("#productImage").attr("src","/img/"+t.GraphicName+".jpg");$("#detailsId").val(n)}function formatDate(n){var t=n===undefined?new Date:new Date(Date.parse(n));var r=t.getDate(),u=t.getMonth()+1,f=t.getFullYear(),e=t.getHours(),i=t.getMinutes();return i<10&&(i="0"+i),f+"-"+u+"-"+r+" "+e+":"+i}function cur(n){n=n.toString().replace(/\$|\,/g,"");isNaN(n)&&(n="0");sign=n==(n=Math.abs(n));n=Math.floor(n*100+.50000000001);cents=n%100;n=Math.floor(n/100).toString();cents<10&&(cents="0"+cents);for(var t=0;t<Math.floor((n.length-(1+t))/3);t++)n=n.substring(0,n.length-(4*t+3))+","+n.substring(n.length-(4*t+3));return(sign?"":"-")+"$"+n+"."+cents}$(function(){if($("#detailsId").val()>0&&$("#detailsId").val()!=""){var n=$("#modalbtn"+$("#detailsId").val()).data("details");CopyToModal($("#detailsId").val(),n);$("#details_popup").modal("show")}$("a.btn-primary").on("click",function(){var n=$(this).data("id"),t=$(this).data("details");$("#results").text("");CopyToModal(n,t)});$("#btnRemove").on("click",function(){$("#qty").val(0)})});$(document).on("submit","#brandsForm",function(){var n=$(this);return $.post("/Brand/SelectItem",n.serialize()).done(function(n){$("#results").text(n)}),!1});$(function(){$(".nav-tabs a").on("show.bs.tab",function(n){return $(n.relatedTarget).text()==="Personal"&&($("#Firstname").valid(),$("#Lastname").valid(),$("#Age").valid(),$("#CreditcardType").valid(),$("#Firstname").valid()===!1||$("#Lastname").valid()===!1||$("#CreditcardType").valid()===!1||$("#Age").valid()===!1)?!1:$(n.relatedTarget).text()==="Address"&&($("#Address1").valid(),$("#City").valid(),$("#Region").valid(),$("#Country").valid(),$("#Mailcode").valid(),$("#Address1").valid()===!1||$("#City").valid()===!1||$("#Region").valid()===!1||$("#Country").valid()===!1||$("#Mailcode").valid()===!1)?!1:$(n.relatedTarget).text()==="Account"&&($("#Email").valid(),$("#Password").valid(),$("#RepeatPassword").valid(),$("#Email").valid()===!1||$("#Password").valid()===!1||$("#RepeatPassword").valid()===!1)?!1:void 0})});Vue.component("branchmodal",{template:"#modal-template",props:{details:[],lat:"",lng:""},methods:{showModal:function(){var n=this;axios.get("/GetBranches/"+n.lat+"/"+n.lng).then(function(t){n.details=t.data;n.showModal=!0;var f=new google.maps.LatLng(n.lat,n.lng),e=document.getElementById("map"),o={zoom:10,center:f,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(e,o);var s=map.getCenter(),u=0,r=null;for(r=new google.maps.InfoWindow({content:"holding..."}),i=0;i<n.details.length;i++)u=i+1,marker=new google.maps.Marker({position:new google.maps.LatLng(n.details[i].latitude,n.details[i].longitude),map:map,animation:google.maps.Animation.DROP,icon:"../img/marker"+u+".png",title:"Branch# "+n.details[i].id+" "+n.details[i].street+", "+n.details[i].city+", "+n.details[i].region,html:"<div>Branch# "+n.details[i].id+"<br/>"+n.details[i].street+", "+n.details[i].city+"<br/>"+n.details[i].distance.toFixed(2)+" km<\/div>"}),google.maps.event.addListener(marker,"click",function(){r.setContent(this.html);r.close();r.open(map,this)});map.setCenter(s);google.maps.event.trigger(map,"resize")},function(n){console.log(n.statusText)})}},mounted:function(){this.showModal()}});var app=new Vue({el:"#branches",methods:{loadAndShowModal:function(){var n=this,t=new google.maps.Geocoder;t.geocode({address:this.address},function(t,i){i==google.maps.GeocoderStatus.OK&&(n.lat=t[0].geometry.location.lat(),n.lng=t[0].geometry.location.lng(),n.showModal=!0)})}},data:{address:"N5Y-5R6",lat:"",lng:"",showModal:!1}}),link="/GetUsersOrders",detailslink="/GetOrderDetails/";Vue.component("ordermodal",{template:"#modal-template",props:{item:{},modalItem:{},details:[]}});new Vue({el:"#orders",methods:{getOrders:function(){axios.get(link).then(n=>{this.orders=n.data}).catch(n=>{this.error=n.response.data})},loadAndShowModal:function(){axios.get(detailslink+this.modalItem.id).then(n=>{this.details=n.data,this.showModal=!0}).catch(n=>{console.log(n.statusText)})}},mounted:function(){this.getOrders()},data:{orders:[],error:null,showModal:!1,modalItem:{},details:[]}});